import QtQuick 2.0

Item {
    id: lightComponent_homeassistant


    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // SIGNALS
    // Connections to receive data from the integration
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    Connections {
        target: integration
        onSendFetchJson: {
            // Process fetched json here. This only has to be one time after connecting to the hub
        }
        onSendEventJson: {
            // Process event json here. Every time there's an update
        }
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // FUNCTIONS
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    function toggle(entity_id) {
        integration.webSocketSendCommand("light","toggle",entity_id);
    }

    function setBrightness(entity_id, brightness) {
        integration.webSocketSendCommand("light","turn_on",entity_id, brightness);
    }

    function turnOn(entity_id) {
        integration.webSocketSendCommand("light","turn_on",entity_id);
    }

    function turnOff(entity_id) {
        integration.webSocketSendCommand("light","turn_off",entity_id);
    }
}
