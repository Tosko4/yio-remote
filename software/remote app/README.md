## How to get it runnig on your computer

1. Download an install [Qt](https://www.qt.io/download-qt-installer?hsCtaTracking=9f6a2170-a938-42df-a8e2-a9f0b1d6cdce%7C6cb0de4f-9bb5-4778-ab02-bfb62735f3e5)

2. Edit the [config.json](config.json) file. Enter your Home Assistant ip:port and your token.

3. Edit line 76 and 109 in [main.qml](main.qml) to change the path.

That's it you're ready to try it out.




## How does the remote app works
I'll do my best to explain how I built the app. If something is not clear, please let me know. There's also a [discord channel](https://discord.gg/zGVYf58) where we can talk about the remote.


### Configuration ###
config.json has all the configuration. This file is generated by the setup app. It can also be edited manually.


**integration**
The integration that should be loaded. At the moment only one integration can be loaded. The name of the integration should match with the filename under /integrations. The application automatically loads the integration file based on this configuration.


**integration config**
This json entry name should match the integration name and file as above. This entry various from integration to integration. For Home Assistant one entry is required: ip address and port. Token is optional.


**rooms**
List of rooms that your setup has.


**entities**
List of entities that you want to control. Each entity has a type and data. The type holds the name of the entity. This should match up with the entities listed in **supported_entities** variable in main.qml.
The data part holds all the entitites that you have configured.


### Translations ###
translations.json contains all the text elements. Right now there is only an 'en' entry. Copy the whole thing and create other translations like 'de', 'dk', etc.




## Folder structure
```
app folder
↳ basic_ui
  Contains basic UI elements like charging screen, status bar etc.

  ↳ main_navigation
    Contains files for the navigation that appears on the bottom of the screen

↳ components
Folder for the various components that control an entity: for example light. Each component has its own subfolder.

  ↳ light
    Button.qml
    This is the UI for the component. It has an open and closed state.
    
    Main.qml
    This is the main qml file for the component.
    This file gets loaded after the configuration is loaded in main.qml. When the component is loaded it looks for which integration to load and loads it.
    It has two variables:
    - entities: holds the entities that are defined in the config.json file
    - ComponentIntegration: object that holds the loaded integration
    
    homeassistant.qml
    There should be a file for every integration. The name should match the file in /integrations.
    This file gets the data from the main integration and processes it.
  
↳ images

↳ integrations
  Integration files for various hubs. Each integration should have its own file. The name of the file should match with the integration configured in config.json

↳ scrips
  Various javascript files.
  helper.js - helper functions
  softwareupdate.js - software update check
  websocket.js - functions that communicate with the python script controlling the display, wifi, haptic motor, etc.

↳ sources
  C++ files.
  jsonfile - reads the json files
  launcher - executes bash scripts
  main - main cpp file for the app

MainContaner.qml
The main container for the app. It has the following components:
- statusbar
- main content area
- navigation bar
- mini media player
- popup and loading screens and notifications

config.json
Main configuration file

main.qml
Main qml file

translations.json
Translations for languages.
``` 
